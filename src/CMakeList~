cmake_minimum_required (VERSION 1.0)
project (Game)
set (Game_VERSION_MAJOR 1)
set (Game_VERSION_MINOR 0)
 
configure_file (
  "${PROJECT_SOURCE_DIR}/GameConfig.h.in"
  "${PROJECT_BINARY_DIR}/GameConfig.h"
  )
 
include_directories("${PROJECT_BINARY_DIR}/Operations")
add_subdirectory(Operations)

option(USE_MYOPERATION
       "Use game provided operations" ON)

if (USE_MYOPERATION)
  include_directories("${PROJECT_BINARY_DIR}/Operations")
  add_subdirectory(Operations)
  set (EXTRA_LIBS ${EXTRA_LIBS} Operations)
endif (USE_MYOPERATION)

add_executable(Game game.m.cpp)
target_link_library(Game ${EXTRA_LIBS})

install (TARGETS Game DESTINATION bin)
install (FILES "${PROJECT_BINARY_DIR}/GameConfig.h"        
         DESTINATION include)
